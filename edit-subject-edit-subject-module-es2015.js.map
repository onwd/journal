{"version":3,"sources":["./src/app/public/journal/edit-subject/edit-subject.component.ts","./src/app/public/journal/edit-subject/edit-subject.html","./src/app/public/journal/edit-subject/edit-subject.module.ts","./src/app/public/journal/edit-subject/edit-subject.routing.ts"],"names":[],"mappings":"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","file":"edit-subject-edit-subject-module-es2015.js","sourcesContent":["import { ActivatedRoute, Router } from '@angular/router';\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport {\n  DataService,\n  Group,\n  Lesson,\n  Subject\n} from '@shared/data';\nimport { last, range } from 'lodash';\n\n@Component({\n  selector: 'public-journal-edit-subject-page',\n  templateUrl: 'edit-subject.html',\n  styleUrls: ['edit-subject.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PublicJournalEditSubjectPageComponent implements OnInit {\n  public group: Group;\n  public subject: Subject;\n  public lessons: Array<Lesson>;\n  public days: Array<number>;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private dataService: DataService\n  ) {}\n\n  public ngOnInit(): void {\n    const groupId = this.activatedRoute.snapshot.paramMap.get('groupId');\n    const id = this.activatedRoute.snapshot.paramMap.get('id');\n\n    this.group = this.dataService.groups.find((group) => group.id === Number(groupId));\n    this.subject = this.group.subjects.find((subject) => subject.id === Number(id));\n    this.lessons = this.subject.lessons;\n    this.days = range(1, 31 + 1);\n  }\n\n  public createLesson(): void {\n    const lesson = new Lesson({\n      id: (this.lessons.length > 0)\n        ? last(this.lessons).id + 1\n        : 1\n    });\n\n    this.lessons.push(lesson);\n\n    setTimeout(() => {\n      window.scrollTo(0, document.body.scrollHeight);\n    }, 0);\n  }\n\n  public deleteLesson(lesson: Lesson): void {\n    const lessonIndex = this.lessons.findIndex((item) => item.id === lesson.id);\n\n    this.lessons.splice(lessonIndex, 1);\n  }\n}\n","<div class=\"edit-subject-page\">\n  <mat-toolbar color=\"primary\">\n    <span>{{subject.name}}</span>\n  </mat-toolbar>\n\n  <form class=\"form\">\n    <mat-form-field class=\"form-field\">\n      <mat-label>Название</mat-label>\n      <input [(ngModel)]=\"subject.name\"\n        matInput\n        name=\"name\" />\n    </mat-form-field>\n  </form>\n\n  <div class=\"table lessons-table\">\n    <div class=\"table-row table-head\">\n      <div class=\"table-cell table-content lessons-table-year\">Год</div>\n      <div class=\"table-cell table-content lessons-table-month\">Месяц</div>\n      <div class=\"table-cell table-content lessons-table-day\">День</div>\n      <div class=\"table-cell table-content lessons-table-topic\">Тема занятия</div>\n      <div class=\"table-cell table-content lessons-table-hours\">Кол-во часов, занятий</div>\n    </div>\n    <div *ngFor=\"let lesson of lessons\" class=\"table-row\">\n      <div class=\"table-cell table-content lessons-table-year\">\n        <mat-select [(ngModel)]=\"lesson.year\" name=\"lesson-year-{{lesson.id}}\" placeholder=\"Год\">\n          <mat-option value=\"19\">19/20</mat-option>\n          <mat-option value=\"20\">20/21</mat-option>\n          <mat-option value=\"21\">21/22</mat-option>\n          <mat-option value=\"22\">22/23</mat-option>\n          <mat-option value=\"23\">23/24</mat-option>\n          <mat-option value=\"24\">24/25</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"table-cell table-content lessons-table-month\">\n        <mat-select [(ngModel)]=\"lesson.month\" name=\"lesson-month-{{lesson.id}}\" placeholder=\"Месяц\">\n          <mat-option value=\"9\">Сентябрь</mat-option>\n          <mat-option value=\"10\">Октябрь</mat-option>\n          <mat-option value=\"11\">Ноябрь</mat-option>\n          <mat-option value=\"12\">Декабрь</mat-option>\n          <mat-option value=\"1\">Январь</mat-option>\n          <mat-option value=\"2\">Февраль</mat-option>\n          <mat-option value=\"3\">Март</mat-option>\n          <mat-option value=\"4\">Апрель</mat-option>\n          <mat-option value=\"5\">Май</mat-option>\n          <mat-option value=\"6\">Июнь</mat-option>\n          <mat-option value=\"7\">Июль</mat-option>\n          <mat-option value=\"8\">Август</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"table-cell table-content lessons-table-day\">\n        <mat-select [(ngModel)]=\"lesson.day\" name=\"lesson-day-{{lesson.id}}\" placeholder=\"День\">\n          <mat-option *ngFor=\"let day of days\" [value]=\"day.toString()\">{{day}}</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"table-cell table-content lessons-table-topic\">\n        <input [(ngModel)]=\"lesson.topic\"\n          matInput\n          name=\"lesson-topic-{{lesson.topic}}\"\n          placeholder=\"Введите тему занятия\" />\n      </div>\n      <div class=\"table-cell table-content lessons-table-hours\">\n        <input [(ngModel)]=\"lesson.hoursAndLessons\"\n          matInput\n          name=\"lesson-hours-{{lesson.hoursAndLessons}}\"\n          placeholder=\"Введите кол-во часов, занятий\" />\n      </div>\n      <div class=\"table-cell table-content lessons-table-actions\">\n        <button (click)=\"$event.stopPropagation(); deleteLesson(lesson)\" mat-flat-button color=\"warn\">Удалить</button>\n      </div>\n    </div>\n    <div (click)=\"createLesson()\" class=\"table-row table-footer\" matRipple>\n      <div class=\"table-cell table-content\">\n        <mat-icon>add</mat-icon>\n        Добавить занятие\n      </div>\n    </div>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { NgModule } from '@angular/core';\nimport { PublicJournalEditSubjectPageComponent } from './edit-subject.component';\nimport { PublicJournalEditSubjectPageRoutingModule } from './edit-subject.routing';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    PublicJournalEditSubjectPageComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatButtonModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatRippleModule,\n    MatSelectModule,\n    MatToolbarModule,\n    RouterModule,\n    TranslateModule,\n    PublicJournalEditSubjectPageRoutingModule\n  ],\n  providers: []\n})\nexport class PublicJournalEditSubjectPageModule { }\n","import { PublicJournalEditSubjectPageComponent } from './edit-subject.component';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PublicJournalEditSubjectPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PublicJournalEditSubjectPageRoutingModule { }\n"],"sourceRoot":"webpack:///"}
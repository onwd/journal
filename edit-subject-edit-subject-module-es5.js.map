{"version":3,"sources":["webpack:///src/app/public/journal/edit-subject/edit-subject.component.ts","webpack:///src/app/public/journal/edit-subject/edit-subject.html","webpack:///src/app/public/journal/edit-subject/edit-subject.module.ts","webpack:///src/app/public/journal/edit-subject/edit-subject.routing.ts"],"names":["$event","stopPropagation","PublicJournalEditSubjectPageComponent","activatedRoute","dataService","groupId","snapshot","paramMap","get","id","group","groups","find","Number","subject","subjects","lessons","days","lesson","length","push","setTimeout","window","scrollTo","document","body","scrollHeight","lessonIndex","findIndex","item","splice","createLesson","selector","templateUrl","styleUrls","changeDetection","OnPush","PublicJournalEditSubjectPageModule","declarations","imports","providers","routes","path","component","PublicJournalEditSubjectPageRoutingModule","forChild","exports"],"mappings":"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","file":"edit-subject-edit-subject-module-es5.js","sourcesContent":["import { ActivatedRoute, Router } from '@angular/router';\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport {\n  DataService,\n  Group,\n  Lesson,\n  Subject\n} from '@shared/data';\nimport { last, range } from 'lodash';\n\n@Component({\n  selector: 'public-journal-edit-subject-page',\n  templateUrl: 'edit-subject.html',\n  styleUrls: ['edit-subject.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PublicJournalEditSubjectPageComponent implements OnInit {\n  public group: Group;\n  public subject: Subject;\n  public lessons: Array<Lesson>;\n  public days: Array<number>;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private dataService: DataService\n  ) {}\n\n  public ngOnInit(): void {\n    const groupId = this.activatedRoute.snapshot.paramMap.get('groupId');\n    const id = this.activatedRoute.snapshot.paramMap.get('id');\n\n    this.group = this.dataService.groups.find((group) => group.id === Number(groupId));\n    this.subject = this.group.subjects.find((subject) => subject.id === Number(id));\n    this.lessons = this.subject.lessons;\n    this.days = range(1, 31 + 1);\n  }\n\n  public createLesson(): void {\n    const lesson = new Lesson({\n      id: (this.lessons.length > 0)\n        ? last(this.lessons).id + 1\n        : 1\n    });\n\n    this.lessons.push(lesson);\n\n    setTimeout(() => {\n      window.scrollTo(0, document.body.scrollHeight);\n    }, 0);\n  }\n\n  public deleteLesson(lesson: Lesson): void {\n    const lessonIndex = this.lessons.findIndex((item) => item.id === lesson.id);\n\n    this.lessons.splice(lessonIndex, 1);\n  }\n}\n","<div class=\"edit-subject-page\">\n  <mat-toolbar color=\"primary\">\n    <span>{{subject.name}}</span>\n  </mat-toolbar>\n\n  <form class=\"form\">\n    <mat-form-field class=\"form-field\">\n      <mat-label>Название</mat-label>\n      <input [(ngModel)]=\"subject.name\"\n        matInput\n        name=\"name\" />\n    </mat-form-field>\n  </form>\n\n  <div class=\"table lessons-table\">\n    <div class=\"table-row table-head\">\n      <div class=\"table-cell table-content lessons-table-year\">Год</div>\n      <div class=\"table-cell table-content lessons-table-month\">Месяц</div>\n      <div class=\"table-cell table-content lessons-table-day\">День</div>\n      <div class=\"table-cell table-content lessons-table-topic\">Тема занятия</div>\n      <div class=\"table-cell table-content lessons-table-hours\">Кол-во часов, занятий</div>\n    </div>\n    <div *ngFor=\"let lesson of lessons\" class=\"table-row\">\n      <div class=\"table-cell table-content lessons-table-year\">\n        <mat-select [(ngModel)]=\"lesson.year\" name=\"lesson-year-{{lesson.id}}\" placeholder=\"Год\">\n          <mat-option value=\"19\">19/20</mat-option>\n          <mat-option value=\"20\">20/21</mat-option>\n          <mat-option value=\"21\">21/22</mat-option>\n          <mat-option value=\"22\">22/23</mat-option>\n          <mat-option value=\"23\">23/24</mat-option>\n          <mat-option value=\"24\">24/25</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"table-cell table-content lessons-table-month\">\n        <mat-select [(ngModel)]=\"lesson.month\" name=\"lesson-month-{{lesson.id}}\" placeholder=\"Месяц\">\n          <mat-option value=\"9\">Сентябрь</mat-option>\n          <mat-option value=\"10\">Октябрь</mat-option>\n          <mat-option value=\"11\">Ноябрь</mat-option>\n          <mat-option value=\"12\">Декабрь</mat-option>\n          <mat-option value=\"1\">Январь</mat-option>\n          <mat-option value=\"2\">Февраль</mat-option>\n          <mat-option value=\"3\">Март</mat-option>\n          <mat-option value=\"4\">Апрель</mat-option>\n          <mat-option value=\"5\">Май</mat-option>\n          <mat-option value=\"6\">Июнь</mat-option>\n          <mat-option value=\"7\">Июль</mat-option>\n          <mat-option value=\"8\">Август</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"table-cell table-content lessons-table-day\">\n        <mat-select [(ngModel)]=\"lesson.day\" name=\"lesson-day-{{lesson.id}}\" placeholder=\"День\">\n          <mat-option *ngFor=\"let day of days\" [value]=\"day.toString()\">{{day}}</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"table-cell table-content lessons-table-topic\">\n        <input [(ngModel)]=\"lesson.topic\"\n          matInput\n          name=\"lesson-topic-{{lesson.topic}}\"\n          placeholder=\"Введите тему занятия\" />\n      </div>\n      <div class=\"table-cell table-content lessons-table-hours\">\n        <input [(ngModel)]=\"lesson.hoursAndLessons\"\n          matInput\n          name=\"lesson-hours-{{lesson.hoursAndLessons}}\"\n          placeholder=\"Введите кол-во часов, занятий\" />\n      </div>\n      <div class=\"table-cell table-content lessons-table-actions\">\n        <button (click)=\"$event.stopPropagation(); deleteLesson(lesson)\" mat-flat-button color=\"warn\">Удалить</button>\n      </div>\n    </div>\n    <div (click)=\"createLesson()\" class=\"table-row table-footer\" matRipple>\n      <div class=\"table-cell table-content\">\n        <mat-icon>add</mat-icon>\n        Добавить занятие\n      </div>\n    </div>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { NgModule } from '@angular/core';\nimport { PublicJournalEditSubjectPageComponent } from './edit-subject.component';\nimport { PublicJournalEditSubjectPageRoutingModule } from './edit-subject.routing';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    PublicJournalEditSubjectPageComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatButtonModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatRippleModule,\n    MatSelectModule,\n    MatToolbarModule,\n    RouterModule,\n    TranslateModule,\n    PublicJournalEditSubjectPageRoutingModule\n  ],\n  providers: []\n})\nexport class PublicJournalEditSubjectPageModule { }\n","import { PublicJournalEditSubjectPageComponent } from './edit-subject.component';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PublicJournalEditSubjectPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PublicJournalEditSubjectPageRoutingModule { }\n"]}